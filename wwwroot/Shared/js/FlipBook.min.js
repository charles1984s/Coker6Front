function FlipBookInit(){var e=$(".FlipBook");let i=1;isNaN($(".FlipBookItem").data("type"))||(i=parseInt($(".FlipBookItem").data("type")));const t=[{version:"pdfjs-4.5.136-dist",ext:"mjs"},{version:"pdfjs-2.1.266-dist",ext:"js"}][i];if(e.addClass("d-none"),void 0!==e.data("pdf")&&e.data("pdf"))e.data("pdf");else console.log("No PDF file specified for FlipBook"),`/lib/pdf-viewer/external/${t.version}/web/compressed.tracemonkey-pldi-09.pdf`;var n=document.createElement("div"),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState){200==this.status&&(n.innerHTML=this.responseText),404==this.status&&(n.innerHTML="Page not found."),$(n).find("meta,title,script").remove();const i=[];$.LoadJs(`/lib/pdf-viewer/external/${t.version}/build/pdf.${t.ext}`).done((function(){i.push($.LoadJs(`/lib/pdf-viewer/external/${t.version}/web/viewer.${t.ext}`),$.LoadJs("/lib/pdf-viewer/external/turn.js"),$.LoadJs("/lib/pdf-viewer/pdf-turn/pdf-turn.js"))})),e.append(n),e.removeClass("d-none"),$(".FlipBookModal").length>0&&$.when.apply(null,i).done((function(){/^pdfjs-4/.test(t.version)?FlipBookModalInit({mode:4,lName:"#listeners"}):FlipBookModalInit({mode:3,lName:"_listeners"})}))}},o.open("GET",`/lib/pdf-viewer/external/${t.version}/web/viewer.html?file=`,!0),o.send()}function FlipBookModalInit(e){var i=$(".FlipBookModal");const t=bootstrap.Modal.getOrCreateInstance(i[0]);let n=null;const o=function(){"undefined"!=typeof bookFlip&&"undefined"!=typeof PDFViewerApplication&&void 0!==PDFViewerApplication.eventBus&&null!=PDFViewerApplication.eventBus?void 0!==$(this).data("init")||$(this).data("init")||(console.log("bookFlip.init"),$(this).data("init",!0),PDFViewerApplication.closeModal=function(){t.hide()},PDFViewerApplication.initializedPromise.then((function(){PDFViewerApplication.setTitleUsingUrl=function(){},console.log("PDF.js has been initialized, title change has been disabled.")})),bookFlip.init(e)):n=setTimeout(o,100)};n=setTimeout(o,100),i.on("shown.bs.modal",(e=>{var i=e.relatedTarget.getAttribute("data-pdf-url");PDFViewerApplication.setInitialView(),PDFViewerApplication.open({url:i,originalUrl:i})}))}