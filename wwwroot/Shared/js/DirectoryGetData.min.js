var Directory={getDirectoryData:function(t){return $.ajax({url:"/api/Directory/GetReleInfo",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json"})}};function DirectoryGetDataInit(){var t,a;$(".catalog_frame").each((function(){var e=$(this);e.data("dirid")&&e.data("shownum")&&(t=e.data("dirid"),1,a=e.data("shownum"),DirectoryDataGet(e,t,1,a))}))}function DirectoryDataGet(t,a,e,n){Directory.getDirectoryData({Ids:[a],SiteId:"undefined"==typeof SiteId?0:SiteId,Page:e,ShowNum:n}).done((function(a){if(!t.data("init")){for(var i=1;i<=a.totalPage;i++)t.find(".page_btn").children(".btn_next").before(`<li class="page-item"><button class="btn_page page-link text-black" data-page=${i}>${i}</button></li>`);$(".btn_prev > button").on("click",(function(){e>1&&(t.find(".catalog").children().each((function(){var t=$(this);t.hasClass("templatecontent")||t.remove()})),e--,DirectoryDataGet(t,e,n))})),$(".btn_page").on("click",(function(){var a=$(this);e!=a.data("page")&&(t.find(".catalog").children().each((function(){var t=$(this);t.hasClass("templatecontent")||t.remove()})),e=a.data("page"),DirectoryDataGet(t,e,n))})),$(".btn_next > button").on("click",(function(){e<a.totalPage&&(t.find(".catalog").children().each((function(){var t=$(this);t.hasClass("templatecontent")||t.remove()})),e++,DirectoryDataGet(t,e,n))}))}t.data("init","true"),DirectoryDataInsert(t,a.releInfos)}))}function DirectoryDataInsert(t,a){a.forEach((function(a){var e=$(t.find(".templatecontent").html()).clone();e.find("a").attr("href",a.link),e.find("a").attr("alt",a.name),e.find("img").attr("src",a.mainImage),e.find("img").attr("alt",void 0===a.name?"":`${a.name}的主要圖片`),e.find("a").attr("href",a.link),e.find(".title").text(a.title),e.find(".description").text(a.description),t.find(".catalog").append(e)})),HoverEffectInit()}