function PageReady(){if($("#SwitchPage").length>0&&"none"!==$("#SwitchPage").css("display")){var e=window.location.pathname+window.location.search,t=e.substring(0,e.indexOf("/article")),a=e.split("/article/")[1].split("?")[0].split("/")[0],i=decodeURIComponent(e.split("/article/")[1].split("?")[0].split("/")[1]),r=new URLSearchParams(window.location.search).get("dirid"),l=null==r?null:r.split(",").map(Number),s=t.substring(t.lastIndexOf("/")+1);if("search"==s&&sessionStorage.getItem(`article-${i}`)){$("#SwitchPage .btn_list").attr("href",`${t}/Get/0/${i}`);var n=JSON.parse(sessionStorage.getItem(`article-${i}`)),c=n.findIndex((e=>e.key==`/article/${a}`));if(n.length>0){var h=t.replace("/search","");if(c>0){$("#SwitchPage .btn_prev").removeClass("disabled");var d=n[c-1].key.includes("/article/")?`${h}/search${n[c-1].key}/${i}`:`${h}${n[c-1].key}`;$("#SwitchPage .btn_prev").attr({href:d,title:n[c-1].value}),$("#SwitchPage .btn_prev").removeClass("disabled")}if(c<n.length-1){$("#SwitchPage .btn_next").removeClass("disabled");d=n[c+1].key.includes("/article/")?`${h}/search${n[c+1].key}/${i}`:`${h}${n[c+1].key}`;$("#SwitchPage .btn_next").attr({href:d,title:n[c+1].value}),$("#SwitchPage .btn_next").removeClass("disabled")}}else $("#SwitchPage").remove()}else $("#SwitchPage .btn_list").attr("href",t),Directory.SwitchPage({id:a,dirids:l,routername:s,searchtext:i,type:2}).done((function(e){if(e.length>0)if("search"==s){var r=t.replace("/search","");sessionStorage.setItem(`article-${i}`,JSON.stringify(e));var l=e.findIndex((e=>e.key==`/article/${a}`));if(l>0){var n=e[l-1].key.includes("/article/")?`${r}/search${e[l-1].key}/${i}`:`${r}${e[l-1].key}`;$("#SwitchPage .btn_prev").attr({href:n,title:e[l-1].value}),$("#SwitchPage .btn_prev").removeClass("disabled")}if(l<e.length-1){n=e[l+1].key.includes("/article/")?`${r}/search${e[l+1].key}/${i}`:`${r}${e[l+1].key}`;$("#SwitchPage .btn_next").attr({href:n,title:e[l+1].value}),$("#SwitchPage .btn_next").removeClass("disabled")}}else{if(null!=e[0].key){$("#SwitchPage .btn_prev").removeClass("disabled");n=`${t}/article/${e[0].key}`;$("#SwitchPage .btn_prev").attr({href:n,title:e[0].value})}if(null!=e[1].key){$("#SwitchPage .btn_next").removeClass("disabled");n=`${t}/article/${e[1].key}`;$("#SwitchPage .btn_next").attr({href:n,title:e[1].value})}}else $("#SwitchPage").remove()}))}}