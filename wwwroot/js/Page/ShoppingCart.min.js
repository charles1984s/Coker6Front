var buy_step_swiper,subtotal,ori_freight,low_con,disfreight,freight,total,paymentArr,ShippingForms,PaymentForms,OrdererForms,RecipientForms,InvoiceForms,$Orderer_TWzipcode,$Recipient_TWzipcode,$Invoice_TWzipcode,$orderer_name,$orderer_sex,$orderer_email,$orderer_cellphone,$orderer_telphone_area,$orderer_telphone,$orderer_telphone_ext,$orderer_address_city,$orderer_address_town,$orderer_address,$recipient_name,$recipient_sex,$recipient_email,$recipient_cellphone,$recipient_telphone_area,$recipient_telphone,$recipient_telphone_ext,$recipient_address_city,$recipient_address_town,$recipient_address,$remark,$invoice_recipient,$invoice_title,$invoice_uniformid,$invoice_address_city,$invoice_address_town,$invoice_address,$ship_method,$pay_method,gotop_switch=!1,isCheckout=!1,shipping=null,payment=null,OrdererOpen=!1,RecipientOpen=!1,InvoiceOpen=!1,shipMethodsChosen=!1,payMethodsChosen=!1,OrdererFilled=!0,RecipientFilled=!0,InvoiceFilled=!0;function PageReady(){Coker.Order={AddHeader:function(e){return $.ajax({url:"/api/Order/AddHeader",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(e),dataType:"json"})},AddDetails:function(e){return $.ajax({url:"/api/Order/AddDetails",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(e),dataType:"json"})},GetHeader:function(e){return $.ajax({url:"/api/Order/GetHeaderOne/",type:"GET",contentType:"application/json; charset=utf-8",data:{id:e}})},GetDetails:function(e){return $.ajax({url:"/api/Order/GetOrderDetails/",type:"GET",contentType:"application/json; charset=utf-8",data:{id:e}})},GetPaymentTypeEnum:function(){return $.ajax({url:"/api/Order/GetPaymentTypeEnum",type:"POST"})}},ElementInit(),CartInit(),Coker.Order.GetPaymentTypeEnum().done((function(e){paymentArr=e})),(buy_step_swiper=new Swiper("#BuyStepSwiper > .swiper",{slidesPerView:1,spaceBetween:15,autoHeight:!0,loop:!1,enabled:!1,pagination:{el:".swiper_pagination > .swiper_pagination_buystep",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'">'+(e+1)+"</span>"}},navigation:{nextEl:".btn_swiper_next_buystep",prevEl:".btn_swiper_prev_buystep"}})).on("slideChangeTransitionEnd",(function(){gotop_switch&&window.scrollTo(0,$(".swiper").offset().top-$("header").height())})),buy_step_swiper.on("slideChange",(function(){switch(buy_step_swiper.activeIndex){case 2:0==ShippingForms.find("input").length?(Coker.sweet.error("錯誤","店家尚未設置運費方式，無法繼續",null,!1),buy_step_swiper.slideTo(1)):0==PaymentForms.find("input").length?(Coker.sweet.error("錯誤","店家尚未設置付款方式，無法繼續",null,!1),buy_step_swiper.slideTo(1)):(shipMethodsChosen=FormCheck(ShippingForms),payMethodsChosen=FormCheck(PaymentForms),shipMethodsChosen&&payMethodsChosen||(Coker.sweet.error("請確實選擇運送及付款方式！",null,!0),setTimeout((function(){buy_step_swiper.slideTo(1)}),1500)));break;case 3:isCheckout||(OrdererOpen&&(OrdererFilled=FormCheck(OrdererForms)),RecipientOpen&&(RecipientFilled=FormCheck(RecipientForms)),InvoiceOpen&&(InvoiceFilled=FormCheck(InvoiceForms)),Coker.sweet.error("未完成結帳流程！","若資料已確實填寫完畢，請點選下方[確認付款]按鈕進入付款程序",null,!1),setTimeout((function(){buy_step_swiper.slideTo(2)}),1500))}})),top_position=$(".swiper").offset().top,$(window).scroll((function(){var e=$(".swiper").offset().top-$("header").height();gotop_switch=document.body.scrollTop>e||document.documentElement.scrollTop>e})),document.addEventListener("keyup",AutoSwapInput),$("input,label,button").mousedown((function(e){buy_step_swiper.allowTouchMove=!1})),$("input,label,button").mouseup((function(e){buy_step_swiper.allowTouchMove=!0})),ShippingForms=$("#RadioShipping"),PaymentForms=$("#RadioPayment"),$(".btn_step2_next").on("click",Step2Monitor),OrdererForms=$("#OrdererForm > form"),RecipientForms=$("#RecipientForm > form"),InvoiceForms=$("#InvoiceForm > form"),$(".btn_checkout").on("click",Step3Monitor),$(".btn_back_to_check").on("click",(function(){buy_step_swiper.slideTo(0)})),$(".btn_goprev").on("click",(function(){buy_step_swiper.slidePrev()})),$(".btn_edit_data").on("click",OrdererEdit),$(".btn_delete_recipient").on("click",DeleteRecipient),$("input[type=radio][name=RadioShipping]").change(RadioShipping),$("input[type=radio][name=RadioPayment]").change(RadioPayment),$("input[type=radio][name=RecipientRadio]").change(RecipientRadio),$("input[type=radio][name=InvoiceRadio]").change(InvoiceRadio)}function ElementInit(){$Orderer_TWzipcode=$("#Orderer_TWzipcode"),$Recipient_TWzipcode=$("#Recipient_TWzipcode"),$Invoice_TWzipcode=$("#Invoice_TWzipcode"),TWZipCodeInit(),$orderer_name=$("#OrdererInputName"),$orderer_sex=$("input[name=OrdererRadioGender]"),$orderer_email=$("#OrdererInputMail"),$orderer_cellphone=$("#OrdererInputCellPhone"),$orderer_telphone_area=$("#OrdererInputTelPhoneArea"),$orderer_telphone=$("#OrdererInputTelPhone"),$orderer_telphone_ext=$("#OrdererInputTelPhoneExt"),$orderer_address_city=$Orderer_TWzipcode.children(".county").children("select"),$orderer_address_town=$Orderer_TWzipcode.children(".district").children("select"),$orderer_address=$("#OrdererInputAddress"),$recipient_radio=$("input[name=RecipientRadio]"),$recipient_name=$("#RecipientInputName"),$recipient_sex=$("input[name=RecipientRadioGender]"),$recipient_email=$("#RecipientInputMail"),$recipient_cellphone=$("#RecipientInputCellPhone"),$recipient_telphone_area=$("#RecipientInputTelPhoneArea"),$recipient_telphone=$("#RecipientInputTelPhone"),$recipient_telphone_ext=$("#RecipientInputTelPhoneExt"),$recipient_address_city=$Recipient_TWzipcode.children(".county").children("select"),$recipient_address_town=$Recipient_TWzipcode.children(".district").children("select"),$recipient_address=$("#RecipientInputAddress"),$remark=$("#TextareaRemark"),$invoice_recipient=$("input[name=InvoiceRadio]"),$invoice_title=$("#InvoiceInputTitle"),$invoice_uniformid=$("#InvoiceInputUniformId"),$invoice_address_city=$Invoice_TWzipcode.children(".county").children("select"),$invoice_address_town=$Invoice_TWzipcode.children(".district").children("select"),$invoice_address=$("#InvoiceInputAddress"),($ship_method=$("input[name=RadioShipping]")).each((function(){$(this).is(":checked")?(shipping=$(this).val(),ori_freight=$(this).data("freight"),low_con=$(this).data("lowcon"),disfreight=$(this).data("disfreight"),freight=ori_freight):freight=0})),$pay_method=$("input[name=RadioPayment]")}function CartInit(){Product.GetAll.Cart($.cookie("Token")).done((function(e){if(e.length>0){$("#Step1 > .card-body").removeClass("d-none");for(var t=0;t<e.length;t++)CartAdd(e[t]);$("#Purchase_Null").addClass("d-none"),buy_step_swiper.enable();Array.prototype.slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new bootstrap.Popover(e)}));buy_step_swiper.update(),TotalCount()}}))}function CartAdd(e){var t=$($("#Template_Cart_Details").html()).clone(),i=t.find(".pro_link"),r=t.find(".pro_image"),n=t.find(".pro_name"),o=t.find(".pro_specification"),d=t.find(".pro_instructions"),a=t.find(".pro_unit"),c=t.find(".pro_quantity"),s=t.find(".pro_subtotal"),l=t.find(".btn_count_plus"),p=t.find(".btn_count_minus"),_=t.find(".btn_remove_pro"),u=t.find(".btn_move_to_favorites");t.data("scid",e.scId),i.attr("href","/Toilet/"+e.pId),i.on("click",(function(){ClickLog(e.pId)})),r.attr("src","../upload/product/pro_0"+e.pId+".png"),n.text(e.title),o.append(""==e.s1Title?"":'<span class="border px-1 me-1">'+e.s1Title+"</span>"),o.append(""==e.s2Title?"":'<span class="border px-1">'+e.s2Title+"</span>"),d.append(e.description.replaceAll("\n","<br/>")),a.text(e.price.toLocaleString("en-US")),c.val(e.quantity),s.data("subtotal",e.price*e.quantity),s.text(s.data("subtotal").toLocaleString("en-US")),_.on("click",(function(){var e=$(this).parents("li").first();Coker.sweet.confirm("確定將商品從購物車移除？","該商品將會從購物車中移除，且不可復原。","確認移除","取消",(function(){CartDelete(e,e.data("scid"),"成功移除商品","移除商品發生未知錯誤")}))})),u.on("click",(function(){var e=$(this).parents("li").first();Coker.sweet.confirm("確定將商品加入收藏？","該商品將會加入收藏並從購物車中移除","加入收藏","取消",(function(){CartDelete(e,e.data("scid"),"成功移除商品","移除商品發生未知錯誤")}))})),l.on("click",(function(){var i=$(this).siblings(".pro_quantity");i.val(parseInt(i.val())+1),CartQuantityUpdate(s,e.price,t.data("scid"),i.val())})),p.on("click",(function(){var i=$(this).siblings(".pro_quantity");i.val()>1&&(i.val(parseInt(i.val())-1),CartQuantityUpdate(s,e.price,t.data("scid"),i.val()))})),c.on("change",(function(){var i=$(this);i.val()<1&&i.val(1),CartQuantityUpdate(s,e.price,t.data("scid"),i.val())})),$("#Step1 > .card-body > .purchase_list").append(t)}function CartQuantityUpdate(e,t,i,r){Product.Update.Cart({Id:i,FK_Tid:$.cookie("Token"),Quantity:r}).done((function(n){Product.GetOne.Cart(n.message).done((function(n){e.data("subtotal",t*r),e.text(e.data("subtotal").toLocaleString("en-US")),TotalCount(),CartDropReset(i,r)}))})).fail((function(){Coker.sweet.error("錯誤","商品數量修改發生錯誤",null,!0)}))}function TotalCount(){subtotal=0,$(".purchase_list").children("li").each((function(){subtotal+=$(this).children(".content").children(".pro_subtotal").data("subtotal"),freight=disfreight>0&&subtotal>low_con?disfreight:ori_freight})),$(".subtotal").each((function(){$(this).text(subtotal.toLocaleString("en-US"))})),$(".shipping_fee").each((function(){$(this).text(null==freight?0:freight.toLocaleString("en-US"))})),$(".total_amount").each((function(){total=null==freight?subtotal:subtotal+freight,$(this).text(total.toLocaleString("en-us"))}))}function CartDelete(e,t,i,r){e.remove(),Product.Delete.Cart(t).done((function(){Coker.sweet.success(i,null,!0),CartDropReset(t,0),TotalCount(),0==parseInt($("#Car_Badge").text())&&DetailsClear()})).fail((function(){Coker.sweet.error("錯誤",r,null,!0)}))}function Step2Monitor(){shipMethodsChosen=FormCheck(ShippingForms),payMethodsChosen=FormCheck(PaymentForms),shipMethodsChosen&&payMethodsChosen?buy_step_swiper.slideNext():Coker.sweet.error("請確實選擇運送及付款方式！",null,!0),buy_step_swiper.update()}function RadioShipping(){ori_freight=$(this).data("freight"),low_con=$(this).data("lowcon"),disfreight=$(this).data("disfreight"),freight=ori_freight,TotalCount()}function RadioPayment(){var e=$(".payment_method");e.addClass("fs-2 fw-bold px-3"),$pay_method.each((function(){if($(this).is(":checked")){var t=$(this).val();1==t?$(".pay_byATM").removeClass("d-none"):$(".pay_byATM").addClass("d-none"),$(paymentArr).each((function(){this.value==t&&e.text(this.key)}))}})),buy_step_swiper.update()}function Step3Monitor(){OrdererOpen&&(OrdererFilled=FormCheck(OrdererForms)),RecipientOpen&&(RecipientFilled=FormCheck(RecipientForms)),InvoiceOpen&&(InvoiceFilled=FormCheck(InvoiceForms)),OrdererFilled&&RecipientFilled&&InvoiceFilled?Coker.sweet.confirm("是否確定結帳？","點選確認進入付款流程","是，開始付款","否",(function(){OrderHeaderAdd()})):Coker.sweet.error("請確實填寫資料！",null,!0),buy_step_swiper.update()}function OrdererEdit(){$("#OrdererForm > .default_data").toggleClass("d-none"),$("#OrdererForm > form").toggleClass("d-none"),OrdererFilled=!(OrdererOpen=!OrdererOpen),buy_step_swiper.update()}function RecipientRadio(){"edit"==$(this).val()?($("#RecipientForm > .default_data").addClass("d-none"),$("#RecipientForm > form").removeClass("d-none"),RecipientOpen=!0,RecipientFormClear()):($("#RecipientForm > .default_data").removeClass("d-none"),$("#RecipientForm > form").addClass("d-none"),RecipientOpen=!1,RecipientFilled=!0),buy_step_swiper.update()}function RecipientFormClear(){$recipient_name.val(""),$recipient_sex.val(""),$recipient_sex.each((function(){$(this).removeAttr("checked")})),$recipient_email.val(""),$recipient_cellphone.val(""),$recipient_telphone_area.val(""),$recipient_telphone.val(""),$recipient_telphone_ext.val(""),$recipient_address_city.val(""),$recipient_address_town.val(""),$recipient_address.val(""),$remark.val("")}function RecipientFormSet(e,t,i,r,n,o,d,a,c,s,l){$recipient_name.val(e),$recipient_sex.each((function(){$(this).val()==t&&$(this).prop("checked",!0)})),$recipient_email.val(i),$recipient_cellphone.val(r),$recipient_telphone_area.val(n),$recipient_telphone.val(o),$recipient_telphone_ext.val(d),$Recipient_TWzipcode.twzipcode("set",{county:a,district:c}),$recipient_address.val(s),$remark.val(l)}function InvoiceRadio(){3==this.value?($("#InvoiceForm > .default_data").addClass("d-none"),$("#InvoiceForm > form").removeClass("d-none"),InvoiceOpen=!0,InvoiceFormClear()):($("#InvoiceForm > .default_data").removeClass("d-none"),$("#InvoiceForm > form").addClass("d-none"),InvoiceOpen=!1,InvoiceFilled=!0),buy_step_swiper.update()}function InvoiceFormClear(){$invoice_title.val(""),$invoice_uniformid.val(""),$invoice_address_city.val(""),$invoice_address_town.val(""),$invoice_address.val("")}function InvoiceFormSet(e,t,i,r,n){$invoice_title.val(e),$invoice_uniformid.val(t),$Invoice_TWzipcode.twzipcode("set",{county:i,district:r}),$invoice_address.val(n)}function FormCheck(e){var t=!1;return Array.from(e).forEach((e=>{e.checkValidity()&&(t=!0),e.classList.add("was-validated")})),t}function DetailsClear(){$("#Step1 > .card-body").addClass("d-none"),$("#Purchase_Null").removeClass("d-none"),buy_step_swiper.disable()}function DeleteRecipient(){$(this).parents("tr").remove()}function OrderHeaderAdd(){var e,t,i,r,n,o;switch($orderer_sex.each((function(){$(this).is(":checked")&&(e=$(this).val())})),t=null!=$orderer_telphone.val()?$orderer_telphone_area.val()+"-"+$orderer_telphone.val()+(null!=$orderer_telphone_ext.val()?"-"+$orderer_telphone_ext.val():""):"",$recipient_radio.each((function(){$(this).is(":checked")&&(i=$(this).val())})),i){case"order":case"choose":RecipientFormSet($orderer_name.val(),e,$orderer_email.val(),$orderer_cellphone.val(),$orderer_telphone_area.val(),$orderer_telphone.val(),$orderer_telphone_ext.val(),$orderer_address_city.val(),$orderer_address_town.val(),$orderer_address.val(),"")}switch($recipient_sex.each((function(){$(this).is(":checked")&&(r=$(this).val())})),n=null!=$recipient_telphone.val()?$recipient_telphone_area.val()+"-"+$recipient_telphone.val()+(null!=$recipient_telphone_ext.val()?"-"+$recipient_telphone_ext.val():""):"",$invoice_recipient.each((function(){$(this).is(":checked")&&(o=$(this).val())})),o){case"1":InvoiceFormSet("","",$orderer_address_city.val(),$orderer_address_town.val(),$orderer_address.val());break;case"2":InvoiceFormSet("","",$recipient_address_city.val(),$recipient_address_town.val(),$recipient_address.val())}$ship_method.each((function(){$(this).is(":checked")&&(shipping=$(this).val())})),$pay_method.each((function(){$(this).is(":checked")&&(payment=$(this).val())})),Coker.Order.AddHeader({Orderer:$orderer_name.val(),OrdererSex:e,OrdererEmail:$orderer_email.val(),OrdererTelephone:t,OrdererCellPhone:$orderer_cellphone.val(),OrdererAddress:$orderer_address_city.val()+$orderer_address_town.val()+" "+$orderer_address.val(),Recipient:$recipient_name.val(),RecipientSex:r,RecipientEmail:$recipient_email.val(),RecipientTelephone:n,RecipientCellPhone:$recipient_cellphone.val(),RecipientAddress:$recipient_address_city.val()+$recipient_address_town.val()+" "+$recipient_address.val(),Remark:$remark.val(),InvoiceRecipient:o,InvoiceTitle:$invoice_title.val(),UniformId:$invoice_uniformid.val(),InvoiceAddress:$invoice_address_city.val()+$invoice_address_town.val()+" "+$invoice_address.val(),Shipping:shipping,Payment:payment,State:1,Subtotal:subtotal,Discount:0,Bonus:0,CouponId:0,Freight:freight,Service_Charge:0}).done((function(e){Coker.Order.GetHeader(e.message).done((function(e){OrderDetailsAdd(e.id,e),Coker.sweet.success("謝謝您的訂購！<br />訂單處理中，若有錯誤請修正後重送訂單。請勿按[回上頁]按鈕，以免重複下單，或發生其他不可預期的錯誤！",(function(){setTimeout((function(){isCheckout=!0,setTimeout((function(){buy_step_swiper.slideNext(),buy_step_swiper.disable()}),300)}),300)}))}))})).fail((function(){Coker.sweet.error("錯誤","訂購商品發生未知錯誤",null,!0)}))}function OrderDetailsAdd(e,t){var i,r=new Array;$("#Step1").find(".purchase_item").each((function(){i=null==i?$(this).data("scid"):i,r.push($(this).data("scid"))})),Coker.Order.AddDetails({FK_OHId:e,FK_SCId_Arr:r,FK_TId:$.cookie("Token")}).done((function(e){e.success&&OrderSuccess(t)}))}function OrderSuccess(e){CartClear(),$("#Step4 > .card-header > .order_number").text(("000000000"+e.id).substr(e.id.length)),$("#Step4 > .card-body > .pruchase_content > .status_alert").text("訂單已成立，謝謝您的訂購！"),Coker.Order.GetDetails(e.id).done((function(e){if(e.length>0){e.length>1&&$(".btn_view_list").removeClass("d-none");for(var t=0;t<e.length;t++)PurchaseAdd(e[t],0==t?$("#Step4 > .card-body > .pruchase_content > .purchase_list").first():$("#Step4 > .card-body > .pruchase_content > .purchase_list.collapse"))}}));var t=$("#Step4 > .card-body > .orderer_data");t.find(".name").text(HiddenCode(1,e.orderer)),t.find(".cellphone").text(HiddenCode(2,e.ordererCellPhone)),null!=e.ordererTelephone&&(t.find(".telphone").parents("div").first().removeClass("d-none"),t.find(".telphone").text(HiddenCode(3,e.ordererTelephone)));var i=$("#Step4 >.card-body >  .recipient_data");i.find(".name").text(HiddenCode(1,e.recipient)),i.find(".cellphone").text(HiddenCode(2,e.recipientCellPhone)),null!=e.recipientTelephone&&(i.find(".telphone").parents("div").first().removeClass("d-none"),i.find(".telphone").text(HiddenCode(3,e.recipientTelephone))),i.find(".address").text(HiddenCode(4,e.recipientAddress));var r=$("#Step4 >.card-body >  .invoice_data");switch(e.invoiceRecipient){case 1:r.find(".person").removeClass("d-none"),r.find(".name").text(t.find(".name").text()),r.find(".cellphone").text(t.find(".cellphone").text()),null!=t.find(".telphone").text()&&(r.find(".telphone").parents("div").first().removeClass("d-none"),r.find(".telphone").text(t.find(".telphone").text()));break;case 2:r.find(".person").removeClass("d-none"),r.find(".name").text(i.find(".name").text()),r.find(".cellphone").text(i.find(".cellphone").text()),null!=i.find(".telphone").text()&&(r.find(".telphone").parents("div").first().removeClass("d-none"),r.find(".telphone").text(i.find(".telphone").text()));break;case 3:r.find(".company").removeClass("d-none"),r.find(".invoice").text(e.invoiceTitle),r.find(".unid").text(e.uniformId)}r.find(".address").text(HiddenCode(4,e.invoiceAddress))}function PurchaseAdd(e,t){var i=$($("#Template_Purchase_Details").html()).clone(),r=i.find(".pro_link"),n=i.find(".pro_image"),o=i.find(".pro_name"),d=i.find(".pro_specification"),a=i.find(".pro_instructions"),c=i.find(".pro_unit"),s=i.find(".pro_quantity"),l=i.find(".pro_subtotal");r.attr("href","/Toilet/"+e.pId),r.on("click",(function(){ClickLog(e.pId)})),n.attr("src","../upload/product/pro_0"+e.pId+".png"),o.text(e.title),d.append(""==e.s1Title?"":'<span class="border px-1 me-1">'+e.s1Title+"</span>"),d.append(""==e.s2Title?"":'<span class="border px-1">'+e.s2Title+"</span>"),a.text(e.description),c.text(e.price.toLocaleString("en-US")),s.text(e.quantity),l.text((e.price*e.quantity).toLocaleString("en-US")),t.append(i)}function HiddenCode(e,t){switch(e){case 1:return t.length>2?t.substr(0,1)+"○"+t.substr(t.length-1):t.substr(0,1)+"○";case 2:return t.substr(0,3)+"****"+t.substr(7);case 3:var i=t.indexOf("-"),r=t.indexOf("-",i);return t.substr(i+1,2)+"***"+t.substr(i+6,2)+(t.length>r+1?"分機"+t.substr(r+1,1)+"***":"");case 4:return t.substr(0,t.indexOf(" "))+"***"}}function AutoSwapInput(){var e=event.target;if("INPUT"==e.nodeName&&e.className.indexOf("pro_quantity")<0&&e.value.length==e.maxLength){var t=$(e).parents("form").first().find("input");for(let i=0;i<t.length;i++)if(t[i]==e)return void(t[i+1]&&t[i+1].focus())}}function TWZipCodeInit(){var e,t,i,r;$Orderer_TWzipcode.twzipcode({zipcodeIntoDistrict:!0,countySel:"高雄市",districtSel:"前鎮區"}),$Recipient_TWzipcode.twzipcode({zipcodeIntoDistrict:!0}),$Invoice_TWzipcode.twzipcode({zipcodeIntoDistrict:!0}),e=$Orderer_TWzipcode.children(".county"),t=$Orderer_TWzipcode.children(".district"),e.children("select").attr({id:"OrdererSelectCity",class:"orderer_city form-select",required:"required"}),e.append("<label class='px-4 required' for='OrdererSelectCity'>縣市</label>"),(i=e.children("select").children("option").first()).text("請選擇縣市"),i.attr("disabled","disabled"),t.children("select").attr({id:"OrdererSelectTown",class:"orderer_town form-select",required:"required"}),t.append("<label class='px-4 required' for='OrdererSelectCity'>鄉鎮</label>"),(r=t.children("select").children("option").first()).text("請選擇鄉鎮"),r.attr("disabled","disabled"),e=$Recipient_TWzipcode.children(".county"),t=$Recipient_TWzipcode.children(".district"),e.children("select").attr({id:"RecipientSelectCity",class:"recipient_city form-select",required:"required"}),e.append("<label class='px-4 required' for='RecipientSelectCity'>縣市</label>"),(i=e.children("select").children("option").first()).text("請選擇縣市"),i.attr("disabled","disabled"),t.children("select").attr({id:"RecipientSelectTown",class:"recipient_town form-select",required:"required"}),t.append("<label class='px-4 required' for='RecipientSelectCity'>鄉鎮</label>"),(r=t.children("select").children("option").first()).text("請選擇鄉鎮"),r.attr("disabled","disabled"),e=$Invoice_TWzipcode.children(".county"),t=$Invoice_TWzipcode.children(".district"),e.children("select").attr({id:"InvoiceSelectCity",class:"bill_city form-select",required:"required"}),e.append("<label class='px-4 required' for='InvoiceSelectCity'>縣市</label>"),(i=e.children("select").children("option").first()).text("請選擇縣市"),i.attr("disabled","disabled"),t.children("select").attr({id:"InvoiceSelectTown",class:"bill_town form-select",required:"required"}),t.append("<label class='px-4 required' for='InvoiceSelectCity'>鄉鎮</label>"),(r=t.children("select").children("option").first()).text("請選擇鄉鎮"),r.attr("disabled","disabled")}